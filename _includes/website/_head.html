<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.41.0/codemirror.min.css">
  <link rel="stylesheet" href="/css/test-website.css"/>
  <link rel="stylesheet" href="/css/font-awesome-5.12.1.min.css"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Barlow:700&display=swap">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.41.0/codemirror.min.js"></script>
  <script type="text/javascript" src="/js/prime-es6.js"></script>
  <script type="text/javascript">

    // When the user scrolls the page, execute myFunction
    window.onscroll = function() {
      const header = Prime.Document.queryFirst('header');
      if (window.pageYOffset > 500) {
        header.addClass('gray').addClass('animate');
      } else {
        header.removeClass('gray').removeClass('animate');
      }
    };

    Prime.Document.onReady(function() {
      Prime.Document.queryFirst('.menu-open').addEventListener('click', function() {
        Prime.Document.queryFirst('.page-header nav').addClass('open');
        Prime.Document.queryFirst('body').addClass('nav-open');
      });
      Prime.Document.queryFirst('.menu-close').addEventListener('click', function() {
        Prime.Document.queryFirst('.page-header nav').removeClass('open');
        Prime.Document.queryFirst('body').removeClass('nav-open');
      });
      Prime.Document.query('li.dropdown').addEventListener('click', function(event) {
        Prime.Utils.stopEvent(event);

        // Remove all the animations
        const li = new Prime.Document.Element(event.currentTarget);
        li.getParent().query('.animate').each(function(e) {
          e.removeClass('animate-apply');
        });
        const dropdown = li.queryFirst('.super-dropdown');
        dropdown.removeClass('animate-apply');

        // Open or close the one clicked
        if (dropdown.hasClass('open')) {
          dropdown.removeClass('open');
          return; // Done closing
        } else {
          dropdown.addClass('open');
        }

        setTimeout(function() {
          dropdown.addClass('animate-apply');
          dropdown.query('.animate').each(function(e) {
            e.addClass('animate-apply');
          });
        }, 20);

        // Close everything else
        Prime.Document.query('.super-dropdown').each(function(other) {
          if (other.domElement !== dropdown.domElement) {
            other.removeClass('open');
          }
        });

        // Position the arrow
        const left = li.getOffsetLeft();
        const width = li.getWidth();
        dropdown.domElement.style.setProperty('--super-dropdown-arrow-left', (left + (width / 2) - 12) + 'px');
      });

      Prime.Document.query('.collapsible .collapse-button').each(function(e) {
        e.addEventListener('click', function(event) {
          Prime.Utils.stopEvent(event);

          const content = e.queryUp('.collapsible').queryFirst('.collapsible-content');
          if (content.isVisible()) {
            e.queryFirst('i').removeClass('fa-chevron-circle-down').addClass('fa-chevron-circle-up');
            content.hide();
          } else {
            e.queryFirst('i').removeClass('fa-chevron-circle-up').addClass('fa-chevron-circle-down');
            content.show(content.domElement.nodeName === 'TABLE' ? 'table' : 'block');
          }
        });
      });

      Prime.Document.query('.carousel').each(function(e) {
        e.queryFirst('.changer-left').addEventListener('click', function(event) {
          Prime.Utils.stopEvent(event);
          const scroll = e.queryFirst('.scroll');
          scroll.scrollLeftTo(scroll.getScrollLeft() - 380);
        });
        e.queryFirst('.changer-right').addEventListener('click', function(event) {
          Prime.Utils.stopEvent(event);
          const scroll = e.queryFirst('.scroll');
          scroll.scrollLeftTo(scroll.getScrollLeft() + 380);
        });
      })
    })
  </script>
</head>
